<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>3D Space Planets</title>
<style>
  body, html {
    margin: 0; padding: 0; overflow: hidden;
    background: radial-gradient(circle, #000010, #000000);
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    color: white;
    user-select: none;
  }
  #infoBox {
    position: absolute;
    top: 20px; left: 20px;
    background: rgba(0, 0, 0, 0.7);
    padding: 15px 20px;
    border-radius: 10px;
    max-width: 300px;
    pointer-events: none;
    transition: opacity 0.3s ease;
  }
  #infoBox h2 {
    margin: 0 0 8px 0;
    font-weight: 700;
  }
  #infoBox p {
    margin: 0;
    font-size: 14px;
  }
  canvas {
    display: block;
  }
</style>
</head>
<body>

<div id="infoBox">
  <h2>Hover a planet to see facts</h2>
</div>

<script src="https://cdn.jsdelivr.net/npm/three@0.153.0/build/three.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/three@0.153.0/examples/js/controls/OrbitControls.min.js"></script>

<script>
  const planets = [
    { name: "Mercury", color: 0xb1b1b1, size: 0.3, distance: 2, fact: "Smallest planet, closest to the Sun." },
    { name: "Venus", color: 0xf5deb3, size: 0.5, distance: 3.2, fact: "Hottest planet, thick atmosphere." },
    { name: "Earth", color: 0x3f83f8, size: 0.55, distance: 4.5, fact: "Only planet with known life." },
    { name: "Mars", color: 0xd14a28, size: 0.45, distance: 6, fact: "The Red Planet, has the tallest volcano." },
    { name: "Jupiter", color: 0xd9b382, size: 1.1, distance: 8.5, fact: "Largest planet, famous for the Great Red Spot." },
    { name: "Saturn", color: 0xe6d095, size: 0.9, distance: 11, fact: "Known for its spectacular rings." },
    { name: "Uranus", color: 0x7fd8f8, size: 0.7, distance: 13.5, fact: "Rotates on its side, blue-green color." },
    { name: "Neptune", color: 0x3355ff, size: 0.7, distance: 15, fact: "Strongest winds in the solar system." },
  ];

  // Scene setup
  const scene = new THREE.Scene();

  const camera = new THREE.PerspectiveCamera(60, window.innerWidth/window.innerHeight, 0.1, 1000);
  camera.position.set(0, 5, 25);

  const renderer = new THREE.WebGLRenderer({antialias: true});
  renderer.setSize(window.innerWidth, window.innerHeight);
  document.body.appendChild(renderer.domElement);

  // Controls
  const controls = new THREE.OrbitControls(camera, renderer.domElement);
  controls.minDistance = 10;
  controls.maxDistance = 50;
  controls.enablePan = false;

  // Lights
  const ambientLight = new THREE.AmbientLight(0xffffff, 0.4);
  scene.add(ambientLight);

  const pointLight = new THREE.PointLight(0xffffcc, 1.5);
  pointLight.position.set(0, 0, 0);
  scene.add(pointLight);

  // Sun
  const sunGeometry = new THREE.SphereGeometry(1.5, 64, 64);
  const sunMaterial = new THREE.MeshBasicMaterial({color: 0xfff566});
  const sun = new THREE.Mesh(sunGeometry, sunMaterial);
  scene.add(sun);

  // Planets
  const planetMeshes = [];

  planets.forEach(p => {
    const geometry = new THREE.SphereGeometry(p.size, 32, 32);
    const material = new THREE.MeshStandardMaterial({color: p.color});
    const mesh = new THREE.Mesh(geometry, material);
    scene.add(mesh);
    planetMeshes.push({ mesh, data: p });
  });

  // Info box
  const infoBox = document.getElementById("infoBox");

  // Raycaster for hover detection
  const raycaster = new THREE.Raycaster();
  const mouse = new THREE.Vector2();

  function onMouseMove(event) {
    // Convert mouse to normalized device coords (-1 to +1)
    mouse.x = (event.clientX / window.innerWidth) * 2 - 1;
    mouse.y = -(event.clientY / window.innerHeight) * 2 + 1;
  }

  window.addEventListener('mousemove', onMouseMove, false);

  // Animate and update planets orbit
  function animate() {
    requestAnimationFrame(animate);

    const time = Date.now() * 0.001;

    planetMeshes.forEach(({ mesh, data }) => {
      // Orbit around sun
      mesh.position.x = data.distance * Math.cos(time);
      mesh.position.z = data.distance * Math.sin(time);
      // Rotate planet on its axis
      mesh.rotation.y += 0.005;
    });

    // Raycasting for hover
    raycaster.setFromCamera(mouse, camera);
    const intersects = raycaster.intersectObjects(planetMeshes.map(p => p.mesh));

    if(intersects.length > 0) {
      const planet = planetMeshes.find(p => p.mesh === intersects[0].object).data;
      infoBox.innerHTML = `<h2>${planet.name}</h2><p>${planet.fact}</p>`;
      infoBox.style.opacity = 1;
    } else {
      infoBox.innerHTML = `<h2>Hover a planet to see facts</h2>`;
      infoBox.style.opacity = 0.7;
    }

    controls.update();
    renderer.render(scene, camera);
  }

  animate();

  window.addEventListener('resize', () => {
    camera.aspect = window.innerWidth/window.innerHeight;
    camera.updateProjectionMatrix();
    renderer.setSize(window.innerWidth, window.innerHeight);
  });
</script>

</body>
</html>
